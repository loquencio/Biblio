<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<ui:composition template="/WEB-INF/template/layout.xhtml">
	<ui:define name="title">Gestão de Livros</ui:define>
	<ui:define name="content">

		<div class="center_content">
			<center>
				<h:form>
					<div class="center_content">

						<p:panel id="panel" header="Adicionar Livro">
							<p:messages globalOnly="true" />
							<h:panelGrid columns="1" cellpadding="5px" cellspacing="3px">
								<p:outputLabel value="Título" for="nome" />
								<h:panelGrid columns="4">
									<p:inputText id="nome" value="#{livroBean.livroAtual.nome}"
										required="true" requiredMessage="Entre o título do livro">
										<p:watermark value="Título do livro" for="nome" />
									</p:inputText>
								</h:panelGrid>

								<p:outputLabel value="Resumo" for="resumo" />
								<h:panelGrid columns="4">
									<p:inputTextarea id="resumo" rows="10" cols="75"
										value="#{livroBean.livroAtual.resumo}" required="false" />
								</h:panelGrid>

								<p:outputLabel value="Data de publicação" for="data" />
								<p:calendar id="data" value="#{livroBean.livroAtual.lancamento}"
									pattern="dd-MM-yyyy" mask="true" />

								<!-- 	<p:outputLabel value="Editora" for="dd" />
								<p:autoComplete id="dd" dropdown="true"
									value="#{autoCompleteView.txt6}"
									completeMethod="#{autoCompleteView.completeText}" />
 -->
								<p:outputLabel value="Editora" for="editora" />
								<p:autoComplete id="editora" forceSelection="true"
									value="#{livroBean.livroAtual.editora}"
									completeMethod="#{editoraBean.completeEditora}" var="editora"
									itemLabel="#{editora.nome}" itemValue="#{editora}"
									converter="editoraConverter" />


								<p:commandButton icon="ui-icon-disk"
									actionListener="#{livroBean.adicionar}" ajax="false" />

							</h:panelGrid>
						</p:panel>
					</div>
				</h:form>
			</center>
		</div>
	</ui:define>
</ui:composition>
</html>